webpackJsonp([2],{106:function(e,t){},107:function(e,t){},108:function(e,t){},109:function(e,t){},110:function(e,t){},111:function(e,t){},112:function(e,t){},113:function(e,t){},115:function(e,t){},116:function(e,t){},124:function(e,t,s){function n(e){s(116)}var a=s(3)(s(49),s(139),n,null,null);e.exports=a.exports},125:function(e,t,s){function n(e){s(115)}var a=s(3)(s(51),s(138),n,"data-v-60237d87",null);e.exports=a.exports},126:function(e,t,s){function n(e){s(110)}var a=s(3)(s(52),s(133),n,"data-v-2328522c",null);e.exports=a.exports},127:function(e,t,s){function n(e){s(111)}var a=s(3)(s(53),s(134),n,null,null);e.exports=a.exports},128:function(e,t,s){function n(e){s(498)}var a=s(3)(s(54),s(137),n,"data-v-37e3fc7f",null);e.exports=a.exports},129:function(e,t,s){function n(e){s(107),s(108)}var a=s(3)(s(55),s(131),n,"data-v-040323ae",null);e.exports=a.exports},130:function(e,t,s){function n(e){s(109)}var a=s(3)(s(57),s(132),n,null,null);e.exports=a.exports},131:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"post-edit"},[e._m(0),e._v(" "),e.fullScreenInfoDisplaying?s("div",{staticClass:"layer layer2 fullscreen-info-message"},[e._v(" "+e._s(e.fullScreenInfoMessage))]):s("div",{staticClass:"layer layer-2"},[s("markdown-editor",{staticClass:"md-editor",attrs:{configs:e.mdConfigs},model:{value:e.markdownContent,callback:function(t){e.markdownContent=t},expression:"markdownContent"}}),e._v(" "),s("div",{staticClass:"container container-post"},[s("div",{staticClass:"layer layer-2-sub layer-2a"},[s("label",{staticClass:"label label-post-title"},[s("div",{staticClass:"form-label"},[e._v("Title")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.postTitle,expression:"postTitle"}],staticClass:"form-input form-input-post",attrs:{placeholder:"Insert..."},domProps:{value:e.postTitle},on:{input:function(t){t.target.composing||(e.postTitle=t.target.value)}}})])]),e._v(" "),s("div",{staticClass:"layer layer-2-sub layer-2b"},[s("label",{staticClass:"label label-post-id"},[s("div",{staticClass:"form-label form-label-post-id"},[s("span",[e._v("Post id")]),e._v(" "),s("Switcher",{staticClass:"sync-switch",attrs:{type:"post",names:"Sync|Type",initActiveIndex:e.TYPE},on:{change:e.switchSync}})],1),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.postIdTyped,expression:"postIdTyped"}],staticClass:"form-input form-input-post",class:{"form-input-agnostic":e.isPostIdSync},attrs:{placeholder:"Insert..."},domProps:{value:e.postIdTyped},on:{input:function(t){t.target.composing||(e.postIdTyped=t.target.value)}}})]),e._v(" "),s("div",{staticClass:"preview-post-url"},[e._v("/post/"+e._s(e.currentUser.userName)+"/"+e._s(e.postId))])]),e._v(" "),s("div",{staticClass:"layer layer-2-sub layer-2c"},[s("label",{staticClass:"label label-post-keywords"},[s("div",{staticClass:"form-label"},[s("span",[e._v("Keywords")]),e._v(" "),s("span",{staticClass:"form-label-keywords-comma"},[e._v("key1, key2, key3...")])]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.postKeywords,expression:"postKeywords"}],staticClass:"form-input form-input-post",attrs:{placeholder:"Insert..."},domProps:{value:e.postKeywords},on:{input:function(t){t.target.composing||(e.postKeywords=t.target.value)}}})])]),e._v(" "),s("div",{staticClass:"layer layer-2-sub layer-2d"},[s("Switcher",{staticClass:"private-switch",attrs:{type:"post",names:"Private|Public",initActiveIndex:e.PUBLIC},on:{change:e.switchPrivate}})],1),e._v(" "),s("div",{staticClass:"layer layer-2-sub layer-2e"},[s("div",{staticClass:"form-info"},[e._v(e._s(e.infoMessage))]),e._v(" "),s("button",{staticClass:"form-button form-button-post",class:{"form-button-inverted":!e.isSaveable},on:{click:e.savePost}},[e._v("Save")]),e._v(" "),s("router-link",{staticClass:"form-button form-button-post",attrs:{to:"/post/"+e.currentUser.userName+"/"+e.postId}},[e._v("Go To Post")])],1),e._v(" "),s("div",{staticClass:"layer layer-2-sub layer-2f"},[s("button",{staticClass:"form-button form-button-danger",on:{click:e.deletePost}},[e._v("Delete")])])])],1)])},staticRenderFns:[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"layer layer-1"},[s("h1",{staticClass:"title"},[e._v("Edit Post")])])}]}},132:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",[e._v("User")])},staticRenderFns:[]}},133:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("nav",{staticClass:"navbar",class:e.customClass},[s("div",{staticClass:"left"},[s("router-link",{staticClass:"logo",attrs:{to:"/"}},[e._v("ONJS")])],1),e._v(" "),e.isAuthenticated?s("div",{staticClass:"right right-auth"},[s("router-link",{staticClass:"header-to-profile",attrs:{to:"/user/"+e.currentUser.userName}},[s("img",{staticClass:"avatar",attrs:{src:e.currentUser.profileAsset.path}}),e._v(" "),s("div",{staticClass:"header-username"},[e._v(e._s(e.currentUser.userName))])]),e._v(" "),s("div",{staticClass:"header-control-icons"},[s("svg",{staticClass:"icon icon-cog",on:{mouseenter:function(t){e.openControl("settings")},mouseleave:e.closeControl}},[s("use",{attrs:{"xlink:href":"#icon-cog"}})]),e._v(" "),s("svg",{staticClass:"icon icon-plus",on:{mouseenter:function(t){e.openControl("add")},mouseleave:e.closeControl}},[s("use",{attrs:{"xlink:href":"#icon-plus"}})]),e._v(" "),s("svg",{staticClass:"icon icon-alarm",on:{mouseenter:function(t){e.openControl("notifications")},mouseleave:e.closeControl}},[s("use",{attrs:{"xlink:href":"#icon-alarm"}})])])],1):s("div",{staticClass:"right right-no-auth"},[s("router-link",{staticClass:"auth-link-wrapper",attrs:{to:"/auth"}},[s("span",{staticClass:"auth-link"},[e._v("Sign Up")]),e._v(" or "),s("span",{staticClass:"auth-link"},[e._v("Log In")])])],1),e._v(" "),s("div",{staticClass:"header-control",class:{"header-control-open":e.areIconsHovered||e.areControlsHovered},on:{mouseenter:function(t){e.areControlsHovered=!0},mouseleave:function(t){e.areControlsHovered=!1}}},[s("div",{staticClass:"header-control-panel",class:{"header-control-panel-open":"settings"===e.whichOpen}},[e._v("\n        settings\n      ")]),e._v(" "),s("div",{staticClass:"header-control-panel",class:{"header-control-panel-open":"add"===e.whichOpen}},[s("div",{staticClass:"container container-agnostic"},[s("label",{staticClass:"label label-name-to-add"},[e._m(0),e._v(" "),s("span",{staticClass:"form-"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.nameToAdd,expression:"nameToAdd"}],staticClass:"form-input form-input-agnostic",attrs:{placeholder:"Insert..."},domProps:{value:e.nameToAdd},on:{input:function(t){t.target.composing||(e.nameToAdd=t.target.value)}}})])]),e._v(" "),s("button",{staticClass:"form-button form-button-post",class:{"form-button-inverted":!e.isNameToAddAcceptable},on:{click:e.addPost}},[e._v("Add Post")]),e._v(" "),s("button",{staticClass:"form-button form-button-asset",class:{"form-button-inverted":!e.isNameToAddAcceptable},on:{click:e.addAsset}},[e._v("Add Asset")])])]),e._v(" "),s("div",{staticClass:"header-control-panel",class:{"header-control-panel-open":"notifications"===e.whichOpen}},[e._v("\n        notifications\n      ")])])])},staticRenderFns:[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"form-label form-label-name-to-add"},[s("span",[e._v("Name to add")]),e._v(" "),s("span",{staticClass:"form-label-name-to-add-temp"},[e._v("temp")])])}]}},134:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",[e._v("Home")])},staticRenderFns:[]}},135:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"app"}},[s("svg",{staticStyle:{position:"absolute",width:"0",height:"0",overflow:"hidden"},attrs:{version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}},[s("defs",[s("symbol",{attrs:{id:"icon-cog",viewBox:"0 0 32 32"}},[s("title",[e._v("cog")]),e._v(" "),s("path",{attrs:{d:"M29.181 19.070c-1.679-2.908-0.669-6.634 2.255-8.328l-3.145-5.447c-0.898 0.527-1.943 0.829-3.058 0.829-3.361 0-6.085-2.742-6.085-6.125h-6.289c0.008 1.044-0.252 2.103-0.811 3.070-1.679 2.908-5.411 3.897-8.339 2.211l-3.144 5.447c0.905 0.515 1.689 1.268 2.246 2.234 1.676 2.903 0.672 6.623-2.241 8.319l3.145 5.447c0.895-0.522 1.935-0.82 3.044-0.82 3.35 0 6.067 2.725 6.084 6.092h6.289c-0.003-1.034 0.259-2.080 0.811-3.038 1.676-2.903 5.399-3.894 8.325-2.219l3.145-5.447c-0.899-0.515-1.678-1.266-2.232-2.226zM16 22.479c-3.578 0-6.479-2.901-6.479-6.479s2.901-6.479 6.479-6.479c3.578 0 6.479 2.901 6.479 6.479s-2.901 6.479-6.479 6.479z"}})]),e._v(" "),s("symbol",{attrs:{id:"icon-plus",viewBox:"0 0 32 32"}},[s("title",[e._v("plus")]),e._v(" "),s("path",{attrs:{d:"M31 12h-11v-11c0-0.552-0.448-1-1-1h-6c-0.552 0-1 0.448-1 1v11h-11c-0.552 0-1 0.448-1 1v6c0 0.552 0.448 1 1 1h11v11c0 0.552 0.448 1 1 1h6c0.552 0 1-0.448 1-1v-11h11c0.552 0 1-0.448 1-1v-6c0-0.552-0.448-1-1-1z"}})]),e._v(" "),s("symbol",{attrs:{id:"icon-alarm",viewBox:"0 0 32 32"}},[s("title",[e._v("alarm")]),e._v(" "),s("path",{attrs:{d:"M27 23h-22l-3 3v1l1 1h9c0 2.209 1.791 4 4 4s4-1.791 4-4h9l1-1v-1l-3-3zM26 15c0-4.1-2.47-7.618-6-9.162v-1.838c0-2.209-1.791-4-4-4s-4 1.791-4 4v1.838c-3.53 1.544-6 5.062-6 9.162v7h20v-7zM14 4c0-1.104 0.896-2 2-2s2 0.896 2 2h-4z"}})])])]),e._v(" "),s("Header"),e._v(" "),s("router-view")],1)},staticRenderFns:[]}},136:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{class:e.classObject},e._l(e.nameList,function(t,n){return s("button",{class:{"switch-item":!0,"switch-item-active":n===e.activeIndex},on:{click:function(t){e.change(n)}}},[e._v(e._s(t))])}))},staticRenderFns:[]}},137:function(e,t){throw new Error("Module build failed: SyntaxError: Unexpected token (43:4)\n    at Parser.pp$4.raise (/home/user/git/open-network-js/frontend/node_modules/vue-template-es2015-compiler/buble.js:2231:15)\n    at Parser.pp.unexpected (/home/user/git/open-network-js/frontend/node_modules/vue-template-es2015-compiler/buble.js:613:10)\n    at Parser.pp$3.parseExprAtom (/home/user/git/open-network-js/frontend/node_modules/vue-template-es2015-compiler/buble.js:1832:12)\n    at Parser.parseExprAtom (/home/user/git/open-network-js/frontend/node_modules/vue-template-es2015-compiler/buble.js:3800:24)\n    at Parser.pp$3.parseExprSubscripts (/home/user/git/open-network-js/frontend/node_modules/vue-template-es2015-compiler/buble.js:1725:21)\n    at Parser.pp$3.parseMaybeUnary (/home/user/git/open-network-js/frontend/node_modules/vue-template-es2015-compiler/buble.js:1702:19)\n    at Parser.pp$3.parseExprOps (/home/user/git/open-network-js/frontend/node_modules/vue-template-es2015-compiler/buble.js:1647:21)\n    at Parser.pp$3.parseMaybeConditional (/home/user/git/open-network-js/frontend/node_modules/vue-template-es2015-compiler/buble.js:1630:21)\n    at Parser.pp$3.parseMaybeAssign (/home/user/git/open-network-js/frontend/node_modules/vue-template-es2015-compiler/buble.js:1607:21)\n    at Parser.pp$3.parsePropertyValue (/home/user/git/open-network-js/frontend/node_modules/vue-template-es2015-compiler/buble.js:2008:89)\n    at Parser.parseObj (/home/user/git/open-network-js/frontend/node_modules/vue-template-es2015-compiler/buble.js:3895:14)\n    at Parser.pp$3.parseExprAtom (/home/user/git/open-network-js/frontend/node_modules/vue-template-es2015-compiler/buble.js:1815:19)\n    at Parser.parseExprAtom (/home/user/git/open-network-js/frontend/node_modules/vue-template-es2015-compiler/buble.js:3800:24)\n    at Parser.pp$3.parseExprSubscripts (/home/user/git/open-network-js/frontend/node_modules/vue-template-es2015-compiler/buble.js:1725:21)\n    at Parser.pp$3.parseMaybeUnary (/home/user/git/open-network-js/frontend/node_modules/vue-template-es2015-compiler/buble.js:1702:19)\n    at Parser.pp$3.parseExprOps (/home/user/git/open-network-js/frontend/node_modules/vue-template-es2015-compiler/buble.js:1647:21)\n    at Parser.pp$3.parseMaybeConditional (/home/user/git/open-network-js/frontend/node_modules/vue-template-es2015-compiler/buble.js:1630:21)\n    at Parser.pp$3.parseMaybeAssign (/home/user/git/open-network-js/frontend/node_modules/vue-template-es2015-compiler/buble.js:1607:21)\n    at Parser.pp$3.parsePropertyValue (/home/user/git/open-network-js/frontend/node_modules/vue-template-es2015-compiler/buble.js:2008:89)\n    at Parser.parseObj (/home/user/git/open-network-js/frontend/node_modules/vue-template-es2015-compiler/buble.js:3895:14)\n    at Parser.pp$3.parseExprAtom (/home/user/git/open-network-js/frontend/node_modules/vue-template-es2015-compiler/buble.js:1815:19)\n    at Parser.parseExprAtom (/home/user/git/open-network-js/frontend/node_modules/vue-template-es2015-compiler/buble.js:3800:24)")},138:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"container container-auth"},[s("Switcher",{staticClass:"main-switch",attrs:{type:"auth",names:"Sign Up|Log In",initActiveIndex:e.LOG_IN},on:{change:e.switchMethod}}),e._v(" "),s("div",{staticClass:"layer layer-1"},[s("label",{staticClass:"label label-username"},[s("div",{staticClass:"form-label"},[e._v("Username")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.userName,expression:"userName"}],staticClass:"form-input form-input-auth",attrs:{placeholder:"Insert..."},domProps:{value:e.userName},on:{input:[function(t){t.target.composing||(e.userName=t.target.value)},e.checkAuthenticationAvailability]}})]),e._v(" "),s("div",{staticClass:"intermediary"},[e._v("\n      "+e._s(e.methodIndex===e.LOG_IN?"or":"and")+"\n    ")]),e._v(" "),s("label",{staticClass:"label label-email"},[s("div",{staticClass:"form-label"},[e._v("Email")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],staticClass:"form-input form-input-auth",attrs:{placeholder:"Insert..."},domProps:{value:e.email},on:{input:[function(t){t.target.composing||(e.email=t.target.value)},e.checkAuthenticationAvailability]}})])]),e._v(" "),s("div",{staticClass:"layer layer-2"},[s("label",{staticClass:"label label-password"},[e._m(0),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"form-input form-input-auth",attrs:{type:"password",placeholder:"Insert..."},domProps:{value:e.password},on:{input:[function(t){t.target.composing||(e.password=t.target.value)},e.checkAuthenticationAvailability]}})])]),e._v(" "),s("div",{staticClass:"layer form-button-layer layer-3"},[s("button",{staticClass:"form-button form-button-auth",class:{"form-button-inverted":e.tryingToAuthenticate||!e.authenticationAvailable},on:{click:e.authenticate}},[e._v("Authenticate")]),e._v(" "),s("div",{ref:"info",staticClass:"form-info"})])],1)},staticRenderFns:[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"form-label form-label-password"},[s("span",[e._v("Password")]),e._v(" "),s("span",{staticClass:"form-label-password-forgot",attrs:{title:"best solution right now is sending an email to matei@copot.eu about it"}},[e._v("forgot?")])])}]}},139:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},staticRenderFns:[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"markdown-editor"},[s("textarea")])}]}},142:function(e,t){},44:function(e,t,s){function n(e){s(113)}var a=s(3)(s(56),s(136),n,"data-v-2a6726c0",null);e.exports=a.exports},45:function(e,t,s){"use strict";var n=s(14),a=s(140),o=s(127),i=s.n(o),r=s(125),l=s.n(r),u=s(130),c=s.n(u),p=s(128),d=s.n(p),m=s(129),h=s.n(m),v=s(497),f=s.n(v);n.a.use(a.a),t.a=new a.a({mode:"history",routes:[{path:"/",name:"Home",component:i.a},{path:"/auth",name:"Auth",component:l.a},{path:"/user/:username",name:"User",component:c.a},{path:"/post/:username/:postid",name:"Post",component:d.a},{path:"/post/:username/:postid/edit",name:"PostEdit",component:h.a},{path:"/asset/:username/:postid",component:f.a},{path:"/asset/:username/:postid/edit",component:f.a}]})},46:function(e,t,s){"use strict";var n=s(59),a=s.n(n),o=s(60),i=s.n(o),r=s(119),l=(s.n(r),s(14)),u=s(24);l.a.use(u.b);var c=new u.b.Store({state:{isAuthenticated:!1,pendingAuthentication:!0,currentUser:!1},mutations:{authenticate:function(e,t){e.isAuthenticated=t.isAuthenticated,e.pendingAuthentication=!1,t.isAuthenticated?(e.currentUser=t.userData,e.currentUser.profileAsset||(e.currentUser.profileAsset={path:"https://gravatar.com/avatar/6d552cd1dea552ad9ca12f745eead5c7?s=512&d=https://codepen.io/assets/avatars/user-avatar-512x512-6e240cf350d2f1cc07c2bed234c3a3bb5f1b237023c204c782622e80d6b212ba.png",idName:"default"})):e.currentUser=!1}},actions:{populateAuthentication:function(e){var t=new XMLHttpRequest;t.open("GET","/api/user/status"),t.onload=function(){if(200===t.status){var s=JSON.parse(t.responseText);s.isAuthenticated?e.dispatch("setOwnUser",s):e.commit("authenticate",s)}},t.send()},setOwnUser:function(e,t){var s=new XMLHttpRequest;s.open("GET","/api/user/request/"+t.userName),s.onload=function(){200===s.status&&e.commit("authenticate",{isAuthenticated:!0,userData:JSON.parse(s.responseText)})},s.send()},authenticate:function(e,t){return new i.a(function(s,n){var o=new XMLHttpRequest;switch(t.method){case"login":o.open("POST","/api/user/login"),o.onload=function(){200===o.status&&e.dispatch("setOwnUser",{userName:t.userName}),s(o)},o.send(a()({username:t.userName,email:t.email,password:t.password}));break;case"signup":o.open("POST","/api/user/create"),o.onload=function(){200===o.status&&e.dispatch("authenticate",{userName:t.userName,password:t.password,method:"login"}),s(o)},o.send(a()({username:t.userName,email:t.email,password:t.password}))}})},createPost:function(e,t){return new i.a(function(e,s){var n=t.postName.replace(/ /g,"-").replace(/[\,\'\:]/g,"")+"-"+Math.random().toString().split(".")[1],o=new XMLHttpRequest;o.open("POST","/api/post/create"),o.onload=function(){200===o.status&&e(n)},o.send(a()({postname:t.postName,postid:n}))})},createAsset:function(e,t){return new i.a(function(e,s){var n=t.assetName.replace(" ","-").replace(/[\,\'\:]/g,"")+"-"+Math.random().toString().split(".")[1],o=new XMLHttpRequest;o.open("POST","/api/asset/create"),o.onload=function(){200===o.status&&e(n)},o.send(a()({assetname:t.assetName,assetid:n}))})},populatePost:function(e,t){return new i.a(function(e,s){var n=new XMLHttpRequest;n.open("GET","/api/post/"+t.userName+"/"+t.postId),n.onload=function(){if(200===n.status)return e(JSON.parse(n.responseText));s(n.responseText)},n.send()})},savePost:function(e,t){return new i.a(function(e,s){var n=new XMLHttpRequest;n.open("POST","/api/post/update"),n.onload=function(){var t=n.responseText;e(200===n.status?"":t.substring(1,t.length-1))},n.send(a()(t))})},deletePost:function(e,t){return new i.a(function(e,s){var n=new XMLHttpRequest;n.open("DELETE","/api/post/"+t.postId),n.onload=function(){e()},n.send()})}}});t.a=c},47:function(e,t,s){function n(e){s(112)}var a=s(3)(s(50),s(135),n,null,null);e.exports=a.exports},49:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(26),a=s.n(n),o=s(122),i=s.n(o);t.default={name:"markdown-editor",props:{value:String,previewClass:String,customTheme:{type:Boolean,default:function(){return!1}},configs:{type:Object,default:function(){return{}}}},ready:function(){this.initialize(),this.syncValue()},mounted:function(){this.initialize()},methods:{initialize:function(){var e={};a()(e,this.configs),e.element=e.element||this.$el.firstElementChild,e.initialValue=e.initialValue||this.value,this.simplemde=new i.a(e),e.renderingConfig&&e.renderingConfig.codeSyntaxHighlighting&&s.e(0).then(function(){var t=e.renderingConfig.highlightingTheme||"default";window.hljs=s(145),s(146)("./"+t+".css")}.bind(null,s)).catch(s.oe),this.customTheme||s(106);var t=this.previewClass||"";this.addPreviewClass(t),this.bindingEvents()},bindingEvents:function(){var e=this;this.simplemde.codemirror.on("change",function(){e.$emit("input",e.simplemde.value())})},addPreviewClass:function(e){var t=this.simplemde.codemirror.getWrapperElement(),s=document.createElement("div");t.nextSibling.className+=" "+e,s.className="editor-preview "+e,t.appendChild(s)},syncValue:function(){var e=this;this.simplemde.codemirror.on("change",function(){e.value=e.simplemde.value()})}},destroyed:function(){this.simplemde=null},watch:{value:function(e){e!==this.simplemde.value()&&this.simplemde.value(e)}}}},497:function(e,t,s){var n=s(3)(null,null,null,null,null);e.exports=n.exports},498:function(e,t){},50:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(126),a=s.n(n);t.default={name:"app",components:{Header:a.a}}},51:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(44),a=s.n(n);t.default={name:"auth",data:function(){return{SIGN_UP:0,LOG_IN:1,methodIndex:1,tryingToAuthenticate:!1,authenticationAvailable:!1}},methods:{switchMethod:function(e){this.methodIndex=e,this.checkAuthenticationAvailability()},checkAuthenticationAvailability:function(){switch(this.methodIndex){case 1:this.userName||this.email?this.password?this.setInfo("",!0):this.setInfo("Please insert Password",!1):this.setInfo("Please insert Username or Email",!1);break;case 0:this.userName?this.email?this.password?this.setInfo("",!0):this.setInfo("Please insert Password",!1):this.setInfo("Please insert Email",!1):this.setInfo("Please insert Username",!1)}},setInfo:function(e,t){this.$refs.info.textContent=e,this.authenticationAvailable=t},authenticate:function(){var e=this;if(!this.authenticationAvailable)return!1;this.tryingToAuthenticate=!0,this.$store.dispatch("authenticate",{method:["signup","login"][this.methodIndex],userName:this.userName,email:this.email,password:this.password}).then(function(t){if(e.tryingToAuthenticate=!1,[400,401].indexOf(t.status)>-1)return e.setInfo(t.responseText.slice(1,t.responseText.length-1),!1);e.$router.push("/user/"+e.userName)})}},components:{Switcher:a.a}}},52:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(27),a=s.n(n),o=s(24),i={user:["user","users"],auth:["auth"],post:["post","posts"],asset:["asset","assets"]};t.default={name:"header",data:function(){return{areIconsHovered:!1,areControlsHovered:!1,whichOpen:!1,nameToAdd:"",hasNotifications:!1}},computed:a()({customClass:function(){for(var e=this.$route.fullPath.split("/"),t=!1,s=e.length-1;s>=0;--s){var n=e[s];for(var a in i){var o=i[a].indexOf(n);if(o>-1){t=i[a][o];break}}if(t)break}return t||(t="post"),"navbar-"+t},isNameToAddAcceptable:function(){return this.nameToAdd.length>0}},s.i(o.a)(["isAuthenticated","currentUser"])),methods:{openControl:function(e){this.whichOpen=e,this.areIconsHovered=!0},closeControl:function(){this.areIconsHovered=!1},addPost:function(){var e=this;this.$store.dispatch("createPost",{postName:this.nameToAdd}).then(function(t){e.$router.push("/post/"+e.currentUser.userName+"/"+t+"/edit")}),this.nameToAdd=""},addAsset:function(){var e=this;this.$store.dispatch("createAsset",{assetName:this.nameToAdd}).then(function(t){e.$router.push("/asset/"+e.currentUser.userName+"/"+t+"/edit")}),this.nameToAdd=""}}}},53:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"home"}},54:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(120),a=s.n(n);t.default={name:"post",beforeMount:function(){this.populatePost()},watch:{$route:function(){this.populatePost()}},data:function(){return{postContent:"",postData:{markdownContent:"",title:"Loading...",postViews:0,postAppreciations:0,postKeywords:[],owner:{profileAsset:{path:""},userName:"",name:"",description:"",privilegeStatus:""}}}},computed:{currentUserFollowsAuthor:function(){return this.currentUser.follows.find(function(e){return e.userName===postData.owner.userName})}},methods:{populatePost:function(){var e=this;this.$store.dispatch("populatePost",{userName:this.$route.params.username,postId:this.$route.params.postid}).then(function(t){e.postData=t,e.postContent=a()(e.postData.markdownContent)})}}}},55:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(27),a=s.n(n),o=s(44),i=s.n(o),r=s(24);t.default={name:"post-edit",beforeMount:function(){this.getData()},watch:{$route:function(){this.getData()}},data:function(){return{PRIVATE:0,PUBLIC:1,TYPE:1,SYNC:0,infoMessage:"",fullScreenInfoDisplaying:!1,fullScreenInfoMessage:"",markdownContent:"",postTitle:"",postIdTyped:"",postIsPrivate:!1,postKeywords:"",isPostIdAvailable:!0,saved:{markdownContent:"",postTitle:"",postId:"",postKeywords:"",postIsPrivate:!1},mdConfigs:{autosave:{enabled:!1},spellChecker:!1},isPostIdSync:!1}},computed:a()({},s.i(r.a)(["isAuthenticated","pendingAuthentication","currentUser"]),{isSaveable:function(){return(this.markdownContent!==this.saved.markdownContent||this.postTitle!==this.saved.postTitle||this.postId!==this.saved.postId||this.parsedKeywords!==this.saved.postKeywords||this.postIsPrivate!==this.saved.postIsPrivate)&&this.isPostIdAvailable},parsedKeywords:function(){return this.postKeywords.split(",").map(function(e){return e.trim()}).join(",")},postId:function(){return(this.isPostIdSync?this.postTitle:this.postIdTyped).replace(/ /g,"-").replace(/[\,\'\:]/g,"")}}),methods:{getData:function(){var e=this,t=this.checkAuthAndGetPost(-1),s=0;if(!t)var n=window.setInterval(function(){(t=e.checkAuthAndGetPost(s++))&&window.clearInterval(n)},100)},checkAuthAndGetPost:function(e){if(console.log(e,this.pendingAuthentication),!this.isAuthenticated&&!this.pendingAuthentication)return this.setFullScreenInfo(!0,"Log In or Sign Up to edit a post");if(!this.isAuthenticated&&this.pendingAuthentication)this.setFullScreenInfo(!1);else{if(this.$route.params.username===this.currentUser.userName)return this.populatePostEdit(),!0;this.$router.replace("/post/"+this.$route.params.username+"/"+this.$route.params.postid)}return!1},switchSync:function(e){switch(e){case 1:this.isPostIdSync=!1;break;case 0:this.isPostIdSync=!0}},switchPrivate:function(e){switch(e){case 0:this.postIsPrivate=!0;break;case 1:this.postIsPrivate=!1}},populatePostEdit:function(){var e=this;this.$store.dispatch("populatePost",{userName:this.currentUser.userName,postId:this.$route.params.postid}).then(function(t){e.markdownContent=e.saved.markdownContent=t.markdownContent,e.postTitle=e.saved.postTitle=t.title,e.postIdTyped=e.saved.postId=t.idTitle,e.postIsPrivate=e.saved.postIsPrivate=t.isPrivate,e.postKeywords=e.saved.postKeywords=t.keywords.split(",").join(", "),e.setFullScreenInfo(!1)}).catch(function(t){switch(t){case'"user does not have post"':e.setFullScreenInfo(!0,"Post either doesn't exist or has been removed")}})},savePost:function(){var e=this;if(this.isSaveable){var t={postid:this.saved.postId};this.saved.markdownContent!==this.markdownContent&&(t.markdowncontent=this.saved.markdownContent=this.markdownContent),this.saved.postTitle!==this.postTitle&&(t.postname=this.saved.postTitle=this.postTitle),this.saved.postId!==this.postId&&(t.newpostid=this.saved.postId=this.postId),this.saved.postIsPrivate!==this.postIsPrivate&&(t.isprivate=this.saved.postIsPrivate=this.postIsPrivate),this.saved.postKeywords!==this.parsedKeywords&&(t.keywords=this.saved.postKeywords=this.parsedKeywords),this.$store.dispatch("savePost",t).then(function(t){if(t)return e.setInfo(t);e.setInfo(""),e.$router.replace("/post/"+e.currentUser.userName+"/"+e.postId+"/edit")})}},goToPost:function(){this.$router.push("/post/"+this.currentUser.userName+"/"+this.postId)},deletePost:function(){var e=this;this.$store.dispatch("deletePost",{postId:this.$route.params.postid}).then(function(){if(window.history.length>1)return e.$router.go(-1);e.$router.replace("/")})},setInfo:function(e){this.infoMessage=e},setFullScreenInfo:function(e,t){return this.fullScreenInfoMessage=t,this.fullScreenInfoDisplaying=e}},components:{Switcher:i.a}}},56:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"switcher",props:["type","names","initActiveIndex"],data:function(){return{activeIndex:0}},created:function(){this.activeIndex=+this.initActiveIndex},computed:{nameList:function(){return this.names.split("|")},classObject:function(){var e={switch:!0};return e["switch-"+this.type]=!0,e}},methods:{change:function(e){this.activeIndex=e,this.$emit("change",e)}}}},57:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"user"}},58:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(14),a=s(122),o=(s.n(a),s(48)),i=s.n(o),r=s(47),l=s.n(r),u=s(45),c=s(46),p=s(120);s.n(p).a.setOptions({sanitize:!0}),n.a.config.productionTip=!1,n.a.config.devtools=!0,n.a.use(i.a),new n.a({el:"#app",router:u.a,store:c.a,created:function(){this.$store.dispatch("populateAuthentication")},template:"<App/>",components:{App:l.a}})}},[58]);
//# sourceMappingURL=app.cdbf2d6891ae4f4e687a.js.map